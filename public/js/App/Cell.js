class Cell {
    constructor({ position, tileCharacter, eventCharacter, vp, tileSet }) {
        this.tileSourceCoords = [-1, -1];
        this.charSourceCoords = [-1, -1];
        this.color = 'gray';
        this.shape = 'rect';
        const [x, y] = position;
        this.x = x;
        this.y = y;
        this.vp = vp;
        this.tileSet = tileSet;
        switch (tileCharacter) {
            case '~':
                this.tileSourceCoords = [8, 2];
                break;
            case 'd':
                this.tileSourceCoords = [19, 12];
                break;
            case 'u':
                this.tileSourceCoords = [18, 12];
                break;
            case '0':
                this.tileSourceCoords = [7, 10];
                break;
            case '1':
                this.tileSourceCoords = [7, 9];
                break;
            case '_':
                this.tileSourceCoords = [7, 9];
                break;
        }
        switch (eventCharacter) {
            case '@':
                this.charSourceCoords = [1, 11];
                break;
            case 'K':
                this.charSourceCoords = [0, 10];
                break;
        }
    }
    draw(context) {
        const { blockSize } = this.vp;
        const [sourceX, sourceY] = this.tileSourceCoords;
        const [charSourceX, charSourceY] = this.charSourceCoords;
        context.beginPath();
        // Tile background
        context.fillStyle = 'white';
        context.fillRect(this.x, this.y, blockSize, blockSize);
        // Tile foreground
        context.fillStyle = this.color;
        context.fillRect(this.x, this.y, blockSize, blockSize);
        if (sourceX > -1 && sourceY > -1) {
            context.imageSmoothingEnabled = false;
            context.drawImage(this.tileSet, sourceX * 16, sourceY * 16, 16, 16, this.x, this.y, blockSize, blockSize);
        }
        if (charSourceX > -1 && charSourceY > -1) {
            context.imageSmoothingEnabled = false;
            context.drawImage(this.tileSet, charSourceX * 16, charSourceY * 16, 16, 16, this.x, this.y, blockSize, blockSize);
        }
        context.fill();
        context.closePath();
    }
}
export default Cell;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2VsbC5qcyIsInNvdXJjZVJvb3QiOiIuLi9zcmMvIiwic291cmNlcyI6WyJBcHAvQ2VsbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFhQSxNQUFNLElBQUk7SUFVTixZQUFZLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBaUI7UUFMbkYscUJBQWdCLEdBQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQy9CLHFCQUFnQixHQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUMvQixVQUFLLEdBQVcsTUFBTSxDQUFBO1FBQ3RCLFVBQUssR0FBbUIsTUFBTSxDQUFBO1FBRzFCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFBO1FBQ3ZCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ1YsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDVixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQTtRQUNaLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBRXRCLFFBQVEsYUFBYSxFQUFFO1lBQ25CLEtBQUssR0FBRztnQkFDSixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7Z0JBQzlCLE1BQUs7WUFDVCxLQUFLLEdBQUc7Z0JBQ0osSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFBO2dCQUNoQyxNQUFLO1lBQ1QsS0FBSyxHQUFHO2dCQUNKLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTtnQkFDaEMsTUFBSztZQUNULEtBQUssR0FBRztnQkFDSixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUE7Z0JBQy9CLE1BQUs7WUFDVCxLQUFLLEdBQUc7Z0JBQ0osSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO2dCQUM5QixNQUFLO1lBQ1QsS0FBSyxHQUFHO2dCQUNKLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtnQkFDOUIsTUFBSztTQUNaO1FBRUQsUUFBUSxjQUFjLEVBQUU7WUFDcEIsS0FBSyxHQUFHO2dCQUNKLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtnQkFDL0IsTUFBSztZQUNULEtBQUssR0FBRztnQkFDSixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUE7Z0JBQy9CLE1BQUs7U0FDWjtJQUNMLENBQUM7SUFFRCxJQUFJLENBQUMsT0FBaUM7UUFDbEMsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUE7UUFDN0IsTUFBTSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUE7UUFDaEQsTUFBTSxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUE7UUFDeEQsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFBO1FBRW5CLGtCQUFrQjtRQUNsQixPQUFPLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQTtRQUMzQixPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUE7UUFFdEQsa0JBQWtCO1FBQ2xCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQTtRQUM5QixPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUE7UUFFdEQsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQzlCLE9BQU8sQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7WUFDdEMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sR0FBRyxFQUFFLEVBQUUsT0FBTyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDN0c7UUFFRCxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDdEMsT0FBTyxDQUFDLHFCQUFxQixHQUFHLEtBQUssQ0FBQztZQUN0QyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsV0FBVyxHQUFHLEVBQUUsRUFBRSxXQUFXLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNySDtRQUVELE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUNkLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQTtJQUN2QixDQUFDO0NBQ0o7QUFFRCxlQUFlLElBQUksQ0FBQSJ9
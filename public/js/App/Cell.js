import { TileMap } from '../TileMap';
class Cell {
    constructor(position, character, vp) {
        this.shape = 'rect';
        const [x, y] = position;
        this.x = x;
        this.y = y;
        this.vp = vp;
        let color = 'gray';
        switch (character) {
            case 'P':
                color = TileMap[character].color;
                this.shape = 'circle';
                break;
            case 'X':
            case 'K':
            case 'D':
            case ' ':
                color = TileMap[character].color;
                break;
        }
        this.color = color;
    }
    draw(context) {
        const { blockSize } = this.vp;
        context.beginPath();
        // Tile background
        context.fillStyle = 'white';
        context.fillRect(this.x, this.y, blockSize, blockSize);
        // Tile foreground
        context.fillStyle = this.color;
        if (this.shape === 'circle') {
            context.ellipse(this.x + blockSize / 2, this.y + blockSize / 2, blockSize / 2, blockSize / 2, Math.PI * 2, 0, 2 * Math.PI * 2);
        }
        else {
            context.fillRect(this.x, this.y, blockSize, blockSize);
        }
        context.fill();
        context.closePath();
    }
}
export default Cell;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2VsbC5qcyIsInNvdXJjZVJvb3QiOiIuLi9zcmMvIiwic291cmNlcyI6WyJBcHAvQ2VsbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBRXBDLE1BQU0sSUFBSTtJQVFOLFlBQVksUUFBWSxFQUFFLFNBQXFCLEVBQUUsRUFBTTtRQUZ2RCxVQUFLLEdBQXNCLE1BQU0sQ0FBQTtRQUc3QixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQTtRQUN2QixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUNWLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ1YsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUE7UUFFWixJQUFJLEtBQUssR0FBRyxNQUFNLENBQUE7UUFDbEIsUUFBUSxTQUFTLEVBQUU7WUFDZixLQUFLLEdBQUc7Z0JBQ0osS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUE7Z0JBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFBO2dCQUNyQixNQUFLO1lBQ1QsS0FBSyxHQUFHLENBQUM7WUFDVCxLQUFLLEdBQUcsQ0FBQztZQUNULEtBQUssR0FBRyxDQUFDO1lBQ1QsS0FBSyxHQUFHO2dCQUNKLEtBQUssR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFBO2dCQUNoQyxNQUFLO1NBQ1o7UUFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBSSxDQUFDLE9BQWlDO1FBQ2xDLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBSSxJQUFJLENBQUMsRUFBRSxDQUFBO1FBQzlCLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUVuQixrQkFBa0I7UUFDbEIsT0FBTyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUE7UUFDM0IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1FBRXRELGtCQUFrQjtRQUNsQixPQUFPLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUE7UUFDOUIsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUN6QixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsU0FBUyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLFNBQVMsR0FBRyxDQUFDLEVBQUUsU0FBUyxHQUFHLENBQUMsRUFBRSxTQUFTLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNsSTthQUFNO1lBQ0gsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1NBQ3pEO1FBRUQsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2QsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFBO0lBQ3ZCLENBQUM7Q0FDSjtBQUVELGVBQWUsSUFBSSxDQUFBIn0=